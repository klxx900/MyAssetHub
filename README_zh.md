# MyAssetHub

一个基于PySide6的专业资产管理应用程序，专为3D艺术家和开发人员设计，提供简洁直观的界面，支持3D资产的发现、预览和管理。

## 项目结构

```
MyAssetHub/
├── MyAssetHub_Root/
│   ├── app/                    # 应用程序主目录
│   │   ├── core/               # 核心功能模块
│   │   │   ├── db_manager.py   # 数据库管理（支持SQLite）
│   │   │   └── watcher.py      # 文件扫描与缩略图生成
│   │   ├── data/               # 数据存储目录
│   │   │   ├── .cache/          # 缩略图缓存
│   │   │   │   └── .gitkeep    # 确保缓存目录被git跟踪
│   │   │   ├── config.json     # 配置文件
│   │   │   └── library.db      # SQLite数据库文件
│   │   ├── ui/                 # 用户界面组件
│   │   │   ├── assets_grid.py  # 资产网格视图（支持3D模型展示）
│   │   │   ├── main_window.py  # 主应用窗口（三栏布局）
│   │   │   └── tree_view.py    # 树视图组件（文件夹导航）
│   │   ├── hot_reloader.py     # 开发模式热重载工具
│   │   ├── main.py             # 应用程序入口
│   │   ├── debug.log           # 调试日志
│   │   └── error_log.txt       # 错误日志
│   └── build/                  # 构建输出目录
├── README_zh.md                # 中文文档
├── run_app.bat                 # 运行应用脚本
├── run_dev.bat                 # 开发模式运行脚本
└── run_hub.exe                 # 打包的可执行文件
```

## 核心功能

### 🔍 资产发现与管理
- **智能文件扫描**：自动发现指定目录下的3D资产文件
- **层次化管理**：通过树状视图展示文件夹结构，支持文件夹的创建、重命名和删除
- **快速搜索**：实时搜索资产名称，快速定位所需资源

### 🖼️ 缩略图系统
- **自动匹配**：智能识别与模型同名的图片文件作为缩略图
- **占位缩略图**：为无配对图片的3D文件生成带有格式标签的占位缩略图
- **缓存机制**：生成的缩略图会被缓存，提高后续加载速度

### 📊 直观界面
- **三栏布局**：左侧树状导航、中间网格预览、右侧属性面板
- **暗黑主题**：专业的深色界面，减少视觉疲劳
- **响应式设计**：支持窗口大小调整，适配不同屏幕尺寸

### 🗃️ 数据管理
- **SQLite数据库**：使用本地数据库存储资产信息，提高加载速度
- **元数据管理**：存储资产的文件路径、大小、修改时间等信息
- **批量操作**：支持资产的批量管理和组织

### ⚡ 开发工具
- **热重载支持**：开发模式下自动检测文件变化并重启应用
- **详细日志**：记录应用运行状态和错误信息

## 支持的文件格式

### 3D模型格式
- **主要支持**：.fbx, .obj, .abc, .gltf, .glb
- **其他格式**：.max, .blend

### 图片格式（用于缩略图）
- .jpg, .jpeg, .png, .tga, .bmp

## 系统要求

- **操作系统**：Windows 10+
- **Python**：3.8+（仅开发模式需要）
- **依赖库**：
  - PySide6（必需，用于GUI界面）
  - Pillow（可选，用于缩略图生成）
  - watchdog（可选，用于热重载功能）

## 安装与运行

### 方式一：直接运行可执行文件
1. 双击 `run_hub.exe` 文件即可启动应用
2. 首次启动时会自动初始化数据库

### 方式二：使用批处理脚本
- **正常运行**：双击 `run_app.bat` 脚本
- **开发模式**：双击 `run_dev.bat` 脚本（支持热重载）

### 方式三：从源码运行

```bash
# 进入应用目录
cd MyAssetHub_Root/app

# 安装依赖
pip install PySide6 Pillow watchdog

# 运行应用
python main.py

# 开发模式运行（支持热重载）
python main.py --dev
```

## 使用指南

### 基本操作
1. **打开资产目录**：点击工具栏上的「📂 打开目录」按钮，选择包含3D资产的文件夹
2. **浏览资产**：通过左侧树状视图导航文件夹，中间网格会显示当前文件夹中的3D资产
3. **查看资产信息**：点击网格中的资产，右侧属性面板会显示详细信息
4. **搜索资产**：在工具栏搜索框中输入关键词，实时筛选资产

### 文件夹操作
- **新建文件夹**：右键点击树状视图，选择「📁 新建文件夹」
- **重命名文件夹**：选中文件夹后按F2键或右键选择「✏️ 重命名」
- **删除文件夹**：选中文件夹后按Delete键或右键选择「🗑️ 删除」
- **在资源管理器中打开**：右键点击文件夹，选择「📂 在资源管理器中打开」

### 资产预览
- **缩略图预览**：网格视图中显示资产的缩略图
- **详细信息**：右侧属性面板显示资产的名称、类型、大小和完整路径
- **图片预览**：对于支持的图片格式，会在属性面板中显示预览图

## 高级功能

### 开发模式
- **热重载**：修改代码后自动重启应用，加快开发迭代速度
- **详细日志**：控制台输出详细的运行信息和错误提示

### 数据库管理
- **自动初始化**：首次运行时自动创建数据库结构
- **智能更新**：文件修改后自动更新数据库中的信息
- **性能优化**：使用索引加速查询，支持大量资产的管理

### 缩略图系统
- **智能匹配**：自动查找与模型文件同名的图片作为缩略图
- **格式识别**：根据文件扩展名生成不同颜色的格式标签
- **缓存管理**：自动管理缩略图缓存，避免重复生成

## 依赖说明

| 依赖库 | 版本要求 | 用途 | 是否必需 |
|-------|---------|------|----------|
| PySide6 | >= 6.0.0 | GUI界面实现 | 必需 |
| Pillow | >= 8.0.0 | 缩略图生成 | 可选 |
| watchdog | >= 2.0.0 | 文件变化监控（热重载） | 可选 |

## 开发指南

### 核心模块说明

- **main.py**：应用程序入口，负责初始化环境和启动主窗口
- **main_window.py**：主应用窗口，实现三栏布局和整体界面
- **tree_view.py**：树状视图组件，提供文件夹导航和管理功能
- **assets_grid.py**：资产网格视图，展示3D资产和缩略图
- **db_manager.py**：数据库管理模块，负责资产信息的存储和查询
- **watcher.py**：文件扫描和缩略图生成模块
- **hot_reloader.py**：开发模式热重载功能

### 代码风格
- 遵循PEP 8编码规范
- 使用类型注解提高代码可读性
- 模块化设计，便于维护和扩展

## 故障排除

### 常见问题

1. **无法生成缩略图**
   - 检查Pillow库是否已安装
   - 确认图片文件格式是否支持

2. **应用启动失败**
   - 检查Python环境是否正确
   - 查看error_log.txt文件获取详细错误信息

3. **热重载不工作**
   - 确认watchdog库已安装
   - 确保以`--dev`参数启动应用

4. **数据库连接失败**
   - 检查library.db文件是否存在且可写
   - 尝试删除library.db文件，应用会自动重新创建

### 日志文件
- **debug.log**：应用运行的调试信息
- **error_log.txt**：应用运行时的错误信息

## 许可证

MIT License

## 更新日志

### 最新版本
- 实现三栏布局的专业界面
- 支持3D资产的智能扫描和管理
- 提供缩略图生成和缓存系统
- 集成SQLite数据库提高性能
- 支持开发模式热重载

## 贡献

欢迎提交Issue和Pull Request，帮助改进MyAssetHub！

## 联系方式

如果您有任何问题或建议，请随时联系我们。